<!DOCTYPE html>
<!-- saved from url=(0032)https://bost.ocks.org/mike/path/ -->
<html class="ocks-org do-not-copy"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Path Transitions</title>
<style>

@import url(../style.css?aea6f0a);

.x.axis line {
  shape-rendering: auto;
}

.line {
  fill: none;
  stroke: #000;
  stroke-width: 1.5px;
}

</style>
<script src="./Path Transitions_files/d3.v3.min.js" charset="utf-8"></script>
<script>

var n = 40,
    random = d3.random.normal(0, .2);

function chart(domain, interpolation, tick) {
  var data = d3.range(n).map(random);

  var margin = {top: 6, right: 0, bottom: 6, left: 40},
      width = 960 - margin.right,
      height = 120 - margin.top - margin.bottom;

  var x = d3.scale.linear()
      .domain(domain)
      .range([0, width]);

  var y = d3.scale.linear()
      .domain([-1, 1])
      .range([height, 0]);

  var line = d3.svg.line()
      .interpolate(interpolation)
      .x(function(d, i) { return x(i); })
      .y(function(d, i) { return y(d); });

  var svg = d3.select("body").append("p").append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .style("margin-left", -margin.left + "px")
    .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  svg.append("defs").append("clipPath")
      .attr("id", "clip")
    .append("rect")
      .attr("width", width)
      .attr("height", height);

  svg.append("g")
      .attr("class", "y axis")
      .call(d3.svg.axis().scale(y).ticks(5).orient("left"));

  var path = svg.append("g")
      .attr("clip-path", "url(#clip)")
    .append("path")
      .datum(data)
      .attr("class", "line")
      .attr("d", line);

  tick(path, line, data, x);
}

</script>

</head><body class="vsc-initialized"><header>
  <aside>January 19, 2012</aside>
  <a href="https://bost.ocks.org/mike/" rel="author">Mike Bostock</a>
</header>

<h1>Path Transitions</h1>

<p>When implementing realtime displays of time-series data, we often use the <i>x</i>-axis to encode time as position: as time progresses, new data comes in from the right, and old data slides out to the left. If you use D3’s built-in <a href="https://github.com/mbostock/d3/wiki/Transitions" target="_blank">path interpolators</a>, however, you may see some surprising behavior:

<script>(function() {

var transition = d3.select({}).transition()
    .duration(750)
    .ease("linear");

chart([0, n - 1], "linear", function tick(path, line, data) {
  transition = transition.each(function() {

    // push a new data point onto the back
    data.push(random());

    // pop the old data point off the front
    data.shift();

    // transition the line
    path.transition().attr("d", line);

  }).transition().each("start", function() { tick(path, line, data); });
});

})();</script>

</p><p><svg width="1000" height="120" style="margin-left: -40px;"><g transform="translate(40,6)"><defs><clippath id="clip"><rect width="960" height="108"></rect></clippath></defs><g class="y axis"><g class="tick" transform="translate(0,108)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">-1.0</text></g><g class="tick" transform="translate(0,81)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">-0.5</text></g><g class="tick" transform="translate(0,54)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">0.0</text></g><g class="tick" transform="translate(0,27)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">0.5</text></g><g class="tick" transform="translate(0,0)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">1.0</text></g><path class="domain" d="M-6,0H0V108H-6"></path></g><g clip-path="url(#clip)"><path class="line" d="M0,50.65160918646406L24.615384615384613,58.07744527811342L49.230769230769226,57.097402577840136L73.84615384615385,57.75106413887106L98.46153846153845,62.887228456491826L123.07692307692307,48.925524110287796L147.6923076923077,53.97605904453639L172.30769230769232,51.20326032741451L196.9230769230769,61.70523999240644L221.53846153846155,65.70649697795446L246.15384615384613,58.26419620845626L270.7692307692308,54.378920658813726L295.3846153846154,62.56645143347448L320,50.43843358197839L344.61538461538464,61.45591143661909L369.2307692307692,50.527183915710864L393.8461538461538,35.90646082306617L418.46153846153845,44.39396733771875L443.0769230769231,40.23544424542655L467.6923076923077,38.225338051248734L492.30769230769226,49.890971470554376L516.9230769230769,55.929221530729286L541.5384615384615,58.81473411159918L566.1538461538462,56.33487852962881L590.7692307692308,48.250361609597206L615.3846153846155,59.3479126649152L640,65.242865355645L664.6153846153846,54.527550032706685L689.2307692307693,60.24151320160217L713.8461538461538,48.083876682478305L738.4615384615385,44.67877592338831L763.076923076923,52.67610573305434L787.6923076923076,56.35246575133256L812.3076923076923,62.4246540796146L836.9230769230769,51.34679943584555L861.5384615384615,48.547625537001096L886.1538461538462,54.42842929886126L910.7692307692307,60.909678455686304L935.3846153846154,66.51378805213726L960,46.19845188451185"></path></g></g></svg></p><p>Why the distracting wiggle? There are multiple valid interpretations when interpolating two paths. Here’s the relevant code from the above chart:

</p><pre><code class="javascript"><span class="comment">// push a new data point onto the back</span>
data.push(random());

<span class="comment">// pop the old data point off the front</span>
data.shift();

<span class="comment">// transition the line</span>
path.transition().attr(<span class="string">"d"</span>, line);
</code></pre>

<p>One interpretation (the one shown above) is that the <i>y</i>-values are changing in-place; for example, you might use this when filtering the data or <a href="https://mbostock.github.com/d3/ex/stream.html">transitioning between metrics</a>. Another interpretation (the one we want) is that the change represents a sliding window in <i>x</i>. But how do you tell D3 to interpolate in <i>x</i> rather than in <i>y</i>?

</p><p>To start, you need to understand a bit about how  <a href="https://www.w3.org/TR/SVG/paths.html#PathData">paths</a> are represented in SVG. Consider this path element, which draws a polyline (a <a href="https://en.wikipedia.org/wiki/Polygonal_chain">piecewise linear curve</a>) of three points:

</p><pre><code class="html xml"><span class="tag">&lt;<span class="title">path</span> <span class="attribute">d</span>=<span class="value">"M0,0L1,6L2,4"</span>&gt;</span><span class="tag">&lt;/<span class="title">path</span>&gt;</span></code></pre>

<p>The path data, stored in the <code class="javascript">d</code> attribute, is a string which contains various commands such as <i>moveto</i>&nbsp;(M) and <i>lineto</i>&nbsp;(L). This path starts at the origin ⟨0,0⟩, draws a line segment to ⟨1,6⟩, and finally another line segment to ⟨2,4⟩; these positions are called the <i>control points</i>. Now say you wanted to shift the old points left and add a new point, resulting in a new path:

</p><pre><code class="html xml"><span class="tag">&lt;<span class="title">path</span> <span class="attribute">d</span>=<span class="value">"M0,6L1,4L2,5"</span>&gt;</span><span class="tag">&lt;/<span class="title">path</span>&gt;</span></code></pre>

<p>The old path had three control points, and the new path has three control points, so the naïve approach is to interpolate each control point from the old to the new:

</p><ul>
  <li>⟨0,0⟩ ↦ ⟨0,6⟩
  </li><li>⟨1,6⟩ ↦ ⟨1,4⟩
  </li><li>⟨2,4⟩ ↦ ⟨2,5⟩
</li></ul>

<p>Since only the <i>y</i>-values change, this interpretation results in a vertical wiggle. When you tell D3 to transition between two paths, it takes exactly this simple approach: it finds numbers embedded in the associated path data strings, pairs them in order, and interpolates. Thus, the transition interpolates six numbers (for the three control points) and produces the same wiggle.

</p><p>To eliminate the wiggle, <b>interpolate the transform</b> rather than the path. This makes sense if you think of the chart as visualizing a function—its value isn’t changing, we’re just showing a different part of the domain. By sliding the visible window at the same rate that new data arrives, we can seamlessly display realtime data:

<script>(function() {

var transition = d3.select({}).transition()
    .duration(750)
    .ease("linear");

chart([0, n - 1], "linear", function tick(path, line, data, x) {
  transition = transition.each(function() {

    // push a new data point onto the back
    data.push(random());

    // redraw the line, and then slide it to the left
    path
        .attr("d", line)
        .attr("transform", null)
      .transition()
        .attr("transform", "translate(" + x(-1) + ")");

    // pop the old data point off the front
    data.shift();

  }).transition().each("start", function() { tick(path, line, data, x); });
});

})();</script>

</p><p><svg width="1000" height="120" style="margin-left: -40px;"><g transform="translate(40,6)"><defs><clippath id="clip"><rect width="960" height="108"></rect></clippath></defs><g class="y axis"><g class="tick" transform="translate(0,108)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">-1.0</text></g><g class="tick" transform="translate(0,81)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">-0.5</text></g><g class="tick" transform="translate(0,54)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">0.0</text></g><g class="tick" transform="translate(0,27)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">0.5</text></g><g class="tick" transform="translate(0,0)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">1.0</text></g><path class="domain" d="M-6,0H0V108H-6"></path></g><g clip-path="url(#clip)"><path class="line" d="M0,50.834944853578975L24.615384615384613,49.262395868587035L49.230769230769226,53.12233351318833L73.84615384615385,42.620060839573995L98.46153846153845,50.50750219149518L123.07692307692307,44.397188635556184L147.6923076923077,47.142552688588154L172.30769230769232,48.78626484834898L196.9230769230769,38.767242104659125L221.53846153846155,32.00501212763974L246.15384615384613,43.86579116133292L270.7692307692308,48.864310121973034L295.3846153846154,63.831321568804654L320,44.38532463229759L344.61538461538464,48.13175439615799L369.2307692307692,33.03260453834847L393.8461538461538,52.79229191940699L418.46153846153845,53.30226002679318L443.0769230769231,69.13439217658286L467.6923076923077,88.60583388921577L492.30769230769226,43.0061513122672L516.9230769230769,56.688400140302754L541.5384615384615,61.709420820885825L566.1538461538462,54.821171381631295L590.7692307692308,55.09854910835541L615.3846153846155,34.756703205661275L640,44.835885665521296L664.6153846153846,34.29955423981437L689.2307692307693,41.44757091791275L713.8461538461538,44.95030897663203L738.4615384615385,58.847043542336124L763.076923076923,59.56962792651856L787.6923076923076,68.0962915041481L812.3076923076923,32.95737081021709L836.9230769230769,48.16380913876595L861.5384615384615,50.45069769385755L886.1538461538462,81.68443002702722L910.7692307692307,72.88800108253217L935.3846153846154,47.97513615808806L960,53.998318432847014L984.6153846153845,68.1428873475838" transform="translate(-6.498461654663086,0)"></path></g></g></svg></p><p>The relevant code is only slightly changed from the original excerpt:

</p><pre><code class="javascript"><span class="comment">// push a new data point onto the back</span>
data.push(random());

<span class="comment">// redraw the line, and then slide it to the left</span>
path
    .attr(<span class="string">"d"</span>, line)
    .attr(<span class="string">"transform"</span>, <span class="literal">null</span>)
  .transition()
    .attr(<span class="string">"transform"</span>, <span class="string">"translate("</span> + x(-<span class="number">1</span>) + <span class="string">")"</span>);

<span class="comment">// pop the old data point off the front</span>
data.shift();
</code></pre>

<aside>Here <code class="javascript">x</code> is a <a href="https://github.com/mbostock/d3/wiki/Quantitative-Scales">quantitative scale</a> that encodes the <i>x</i>-position. The value of <code class="javascript">x(-<span class="number">1</span>)</code> is about -24, which is the distance between control points in <i>x</i>.</aside>

<p>When a new data point arrives, we redraw the line instantaneously and remove the previous transform (if any). The new data point is thus initially invisible off the right edge of the chart. Then, we animate the <i>x</i>-offset of the path element from 0 to some negative value, causing it to slide left.

</p><p>While conceptually simple, there are some nuances of this approach:

</p><p>First, you should use <b>linear easing</b> so that the speed of the continuously-changing transform remains constant. If you use the default cubic-in-out easing, then the transition velocity will oscillate and again be distracting.

</p><p>Second, since the entering data point is drawn off the right edge, you’ll need a <b><a href="https://www.w3.org/TR/SVG/masking.html#ClippingPaths">clip path</a></b>. In the above example, we use:

</p><pre><code class="html xml"><span class="tag">&lt;<span class="title">defs</span>&gt;</span>
  <span class="tag">&lt;<span class="title">clipPath</span> <span class="attribute">id</span>=<span class="value">"clip"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">rect</span> <span class="attribute">width</span>=<span class="value">"950"</span> <span class="attribute">height</span>=<span class="value">"90"</span>&gt;</span><span class="tag">&lt;/<span class="title">rect</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">clipPath</span>&gt;</span>
<span class="tag">&lt;/<span class="title">defs</span>&gt;</span></code></pre>

<p>Lastly, if you’re using <b>spline interpolation</b> for the path data, then note that adding a control data point changes the tangents of the previous control point, and thus the shape of the associated segments. To avoid another wiggle when the control points are changed, further restrict the visible region (the <i>x</i>-domain) so that the extra control point is hidden:

<script>(function() {

var transition = d3.select({}).transition()
    .duration(750)
    .ease("linear");

chart([1, n - 2], "basis", function tick(path, line, data, x) {
  transition = transition.each(function() {

    // push a new data point onto the back
    data.push(random());

    // redraw the line, and then slide it to the left, and repeat indefinitely
    path
        .attr("d", line)
        .attr("transform", null)
      .transition()
        .attr("transform", "translate(" + x(0) + ")");

    // pop the old data point off the front
    data.shift();

  }).transition().each("start", function() { tick(path, line, data, x); });
});

})();</script>

</p><p><svg width="1000" height="120" style="margin-left: -40px;"><g transform="translate(40,6)"><defs><clippath id="clip"><rect width="960" height="108"></rect></clippath></defs><g class="y axis"><g class="tick" transform="translate(0,108)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">-1.0</text></g><g class="tick" transform="translate(0,81)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">-0.5</text></g><g class="tick" transform="translate(0,54)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">0.0</text></g><g class="tick" transform="translate(0,27)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">0.5</text></g><g class="tick" transform="translate(0,0)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">1.0</text></g><path class="domain" d="M-6,0H0V108H-6"></path></g><g clip-path="url(#clip)"><path class="line" d="M-25.945945945945947,49.17356654728432L-21.62162162162162,49.42134214634714C-17.2972972972973,49.66911774540997,-8.64864864864865,50.16466894353563,0,48.54975804645162C8.64864864864865,46.93484714936761,17.2972972972973,43.20947415707394,25.945945945945947,45.19603747566477C34.5945945945946,47.18260079425559,43.24324324324324,54.8811004237309,51.89189189189189,59.25236451829116C60.54054054054054,63.62362861285143,69.1891891891892,64.66765717249663,77.83783783783784,60.71395563428463C86.48648648648648,56.760254096072615,95.13513513513513,47.808822460003384,103.78378378378378,43.52997136204212C112.43243243243244,39.25112026408084,121.08108108108108,39.644849704227525,129.7297297297297,40.99566886254343C138.3783783783784,42.34648802085934,147.02702702702703,44.654396897344455,155.67567567567568,50.33408807139145C164.32432432432432,56.01377924543845,172.97297297297297,65.06525271704733,181.6216216216216,63.873350345180086C190.2702702702703,62.68144797331284,198.91891891891893,51.24616975796948,207.56756756756755,49.675393213794656C216.21621621621622,48.10461666961984,224.86486486486487,56.39834179661354,233.5135135135135,58.22786627452308C242.16216216216216,60.05739075243261,250.8108108108108,55.422714581257964,259.4594594594594,54.65331942956455C268.1081081081081,53.88392427787113,276.7567567567568,56.97981014565893,285.40540540540536,58.069763783608636C294.05405405405406,59.15971742155834,302.7027027027027,58.24373882966995,311.3513513513513,59.10476768165011C320,59.96579653363027,328.64864864864865,62.60383282947896,337.2972972972973,63.73422997669445C345.94594594594594,64.86462712390994,354.5945945945946,64.4873851224922,363.2432432432432,61.20270378175092C371.89189189189193,57.91802244100964,380.5405405405406,51.72590176094481,389.18918918918916,48.63220006902394C397.83783783783787,45.53849837710306,406.4864864864865,45.543215673326145,415.1351351351352,43.19568373316068C423.7837837837838,40.8481517929952,432.43243243243245,36.14837061644118,441.08108108108104,36.22646257514481C449.72972972972974,36.30455453384843,458.3783783783784,41.16051962780972,467.0270270270271,44.46506455248217C475.6756756756757,47.76960947715462,484.3243243243243,49.52273423253824,492.9729729729729,49.05661121017409C501.6216216216216,48.59048818780994,510.27027027027026,45.90511738769801,518.918918918919,44.96998570928707C527.5675675675675,44.03485403087613,536.2162162162161,44.84996147416617,544.8648648648648,44.225688772355554C553.5135135135134,43.60141607054493,562.1621621621621,41.53776322363365,570.8108108108107,45.62582129347213C579.4594594594594,49.713879363310625,588.1081081081081,59.95364834989888,596.7567567567567,64.81058405545926C605.4054054054054,69.66751976101965,614.054054054054,69.14162218555217,622.7027027027027,66.67625946603624C631.3513513513512,64.21089674652032,640,59.80606888295597,648.6486486486485,54.66060460939231C657.2972972972973,49.51514033582865,665.9459459459458,43.62903965226568,674.5945945945946,42.67995956504201C683.2432432432431,41.73087947781835,691.8918918918919,45.71881998693398,700.5405405405404,48.76007635496017C709.1891891891892,51.80133272298636,717.8378378378379,53.89590494992309,726.4864864864866,56.86681946567667C735.1351351351352,59.837733981430254,743.7837837837837,63.68499078600068,752.4324324324325,65.23388005151133C761.081081081081,66.782769317022,769.7297297297298,66.0332910434729,778.3783783783784,64.21980288439521C787.0270270270271,62.40631472531752,795.6756756756756,59.528816680711245,804.3243243243242,59.844122428801306C812.9729729729729,60.15942817689137,821.6216216216217,63.66753771767777,830.2702702702703,64.84300152106164C838.918918918919,66.01846532444551,847.5675675675676,64.86128339042685,856.2162162162163,62.25590475830699C864.8648648648649,59.65052612618713,873.5135135135135,55.59695079596607,882.1621621621622,51.683234493474174C890.8108108108108,47.76951819098227,899.4594594594595,43.99566091621952,908.1081081081081,41.96840924495933C916.7567567567568,39.94115757369915,925.4054054054054,39.66051150594153,934.0540540540541,42.31613345407844C942.7027027027027,44.97175540221535,951.3513513513514,50.563645366246796,960,51.36482982438623C968.6486486486486,52.16601428252566,977.2972972972973,48.176493234773076,985.9459459459459,50.23926719558693C994.5945945945946,52.30204115640079,1003.2432432432431,60.417110125781086,1007.5675675675674,64.47464461047124L1011.8918918918918,68.53217909516138" transform="translate(-6.849729675292969,0)"></path></g></g></svg></p><p>If you like, you can also combine this technique with D3’s built-in <a href="https://github.com/mbostock/d3/wiki/SVG-Axes">axes</a> and <a href="https://github.com/mbostock/d3/wiki/Time-Scales">time scales</a>. This chart, for example, shows your scrolling activity while reading this document over the last three minutes:

<script>(function() {

var n = 243,
    duration = 750,
    now = new Date(Date.now() - duration),
    count = 0,
    data = d3.range(n).map(function() { return 0; });

var margin = {top: 6, right: 0, bottom: 20, left: 40},
    width = 960 - margin.right,
    height = 120 - margin.top - margin.bottom;

var x = d3.time.scale()
    .domain([now - (n - 2) * duration, now - duration])
    .range([0, width]);

var y = d3.scale.linear()
    .range([height, 0]);

var line = d3.svg.line()
    .interpolate("basis")
    .x(function(d, i) { return x(now - (n - 1 - i) * duration); })
    .y(function(d, i) { return y(d); });

var svg = d3.select("body").append("p").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .style("margin-left", -margin.left + "px")
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

svg.append("defs").append("clipPath")
    .attr("id", "clip")
  .append("rect")
    .attr("width", width)
    .attr("height", height);

var axis = svg.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + height + ")")
    .call(x.axis = d3.svg.axis().scale(x).orient("bottom"));

var path = svg.append("g")
    .attr("clip-path", "url(#clip)")
  .append("path")
    .datum(data)
    .attr("class", "line");

var transition = d3.select({}).transition()
    .duration(750)
    .ease("linear");

d3.select(window)
    .on("scroll", function() { ++count; });

(function tick() {
  transition = transition.each(function() {

    // update the domains
    now = new Date();
    x.domain([now - (n - 2) * duration, now - duration]);
    y.domain([0, d3.max(data)]);

    // push the accumulated count onto the back, and reset the count
    data.push(Math.min(30, count));
    count = 0;

    // redraw the line
    svg.select(".line")
        .attr("d", line)
        .attr("transform", null);

    // slide the x-axis left
    axis.call(x.axis);

    // slide the line left
    path.transition()
        .attr("transform", "translate(" + x(now - (n - 1) * duration) + ")");

    // pop the old data point off the front
    data.shift();

  }).transition().each("start", tick);
})();

})()</script>

</p><p><svg width="1000" height="120" style="margin-left: -40px;"><g transform="translate(40,6)"><defs><clippath id="clip"><rect width="960" height="94"></rect></clippath></defs><g class="x axis" transform="translate(0,94)"><g class="tick" transform="translate(41.776001505533856,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:30</text></g><g class="tick" transform="translate(121.77600150553386,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:45</text></g><g class="tick" transform="translate(201.77600150553386,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">12:15</text></g><g class="tick" transform="translate(281.7759862467448,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:15</text></g><g class="tick" transform="translate(361.77598624674476,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:30</text></g><g class="tick" transform="translate(441.77598624674476,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:45</text></g><g class="tick" transform="translate(521.7760167643229,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">12:16</text></g><g class="tick" transform="translate(601.7760167643229,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:15</text></g><g class="tick" transform="translate(681.7760167643229,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:30</text></g><g class="tick" transform="translate(761.7760167643229,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:45</text></g><g class="tick" transform="translate(841.776016764323,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">12:17</text></g><g class="tick" transform="translate(921.776016764323,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" style="text-anchor: middle;" x="0">:15</text></g><path class="domain" d="M0,6V0H960V6"></path></g><g clip-path="url(#clip)"><path class="line" d="M-4,94L-3.333333333333333,87.21111111111111C-2.6666666666666665,80.42222222222222,-1.3333333333333333,66.84444444444443,0,63.18888888888888C1.3333333333333333,59.533333333333324,2.6666666666666665,65.79999999999998,4,72.58888888888889C5.333333333333333,79.37777777777777,6.666666666666666,86.68888888888888,8,90.34444444444445C9.333333333333332,94,10.666666666666666,94,12,94C13.333333333333332,94,14.666666666666666,94,16,94C17.333333333333332,94,18.666666666666664,94,20,94C21.333333333333332,94,22.666666666666664,94,24,94C25.333333333333332,94,26.666666666666664,94,27.999999999999996,94C29.33333333333333,94,30.666666666666664,94,32,94C33.33333333333333,94,34.666666666666664,94,36,94C37.33333333333333,94,38.666666666666664,94,40,94C41.33333333333333,94,42.666666666666664,94,44,94C45.33333333333333,94,46.666666666666664,94,48,94C49.33333333333333,94,50.666666666666664,94,52,94C53.33333333333333,94,54.66666666666666,94,55.99999999999999,94C57.33333333333333,94,58.666666666666664,94,59.99999999999999,94C61.33333333333333,94,62.666666666666664,94,64,94C65.33333333333333,94,66.66666666666666,94,68,94C69.33333333333333,94,70.66666666666666,94,72,94C73.33333333333333,94,74.66666666666666,94,76,94C77.33333333333333,94,78.66666666666666,94,80,94C81.33333333333333,94,82.66666666666666,94,84,94C85.33333333333333,94,86.66666666666666,94,87.99999999999999,94C89.33333333333333,94,90.66666666666666,94,92,94C93.33333333333333,94,94.66666666666666,94,96,94C97.33333333333333,94,98.66666666666666,94,99.99999999999999,94C101.33333333333331,94,102.66666666666666,94,104,94C105.33333333333333,94,106.66666666666666,94,108,94C109.33333333333333,94,110.66666666666666,94,111.99999999999999,94C113.33333333333331,94,114.66666666666666,94,116,94C117.33333333333333,94,118.66666666666666,94,120,94C121.33333333333334,94,122.66666666666667,94,124,94C125.33333333333334,94,126.66666666666666,94,128,94C129.33333333333331,94,130.66666666666666,94,132,94C133.33333333333331,94,134.66666666666666,94,136,94C137.33333333333331,94,138.66666666666666,94,140,94C141.33333333333331,94,142.66666666666666,94,144,94C145.33333333333331,94,146.66666666666666,94,148,94C149.33333333333331,94,150.66666666666666,94,152,94C153.33333333333331,94,154.66666666666666,94,156,94C157.33333333333331,94,158.66666666666666,94,160,94C161.33333333333331,94,162.66666666666666,94,164,94C165.33333333333331,94,166.66666666666666,94,168,94C169.33333333333331,94,170.66666666666666,94,172,94C173.33333333333331,94,174.66666666666666,94,176,94C177.33333333333331,94,178.66666666666666,94,180,94C181.33333333333331,94,182.66666666666666,94,184,94C185.33333333333331,94,186.66666666666666,94,188,94C189.33333333333331,94,190.66666666666666,94,192,94C193.33333333333331,94,194.66666666666666,94,196,94C197.33333333333331,94,198.66666666666663,94,199.99999999999997,94C201.33333333333331,94,202.66666666666666,94,203.99999999999997,94C205.33333333333331,94,206.66666666666666,94,208,94C209.33333333333331,94,210.66666666666663,94,211.99999999999997,94C213.33333333333331,94,214.66666666666666,94,215.99999999999997,94C217.33333333333331,94,218.66666666666666,94,220,94C221.33333333333331,94,222.66666666666663,94,223.99999999999997,94C225.33333333333331,94,226.66666666666666,94,227.99999999999997,94C229.33333333333331,94,230.66666666666666,94,232,94C233.33333333333331,94,234.66666666666663,94,235.99999999999997,94C237.33333333333331,94,238.66666666666666,94,239.99999999999997,94C241.33333333333331,94,242.66666666666666,94,244,94C245.33333333333331,94,246.66666666666669,94,248,94C249.33333333333334,94,250.66666666666669,94,252,94C253.33333333333331,94,254.66666666666666,94,256,94C257.3333333333333,94,258.66666666666663,94,260,94C261.3333333333333,94,262.66666666666663,94,264,94C265.3333333333333,94,266.66666666666663,94,268,94C269.3333333333333,94,270.66666666666663,94,272,94C273.3333333333333,94,274.66666666666663,94,276,94C277.3333333333333,94,278.66666666666663,94,280,94C281.3333333333333,94,282.66666666666663,94,284,94C285.3333333333333,94,286.66666666666663,94,288,94C289.3333333333333,94,290.66666666666663,94,292,94C293.3333333333333,94,294.66666666666663,94,296,94C297.3333333333333,94,298.66666666666663,94,300,94C301.3333333333333,94,302.66666666666663,94,304,94C305.3333333333333,94,306.66666666666663,94,308,94C309.3333333333333,94,310.66666666666663,94,312,94C313.3333333333333,94,314.66666666666663,94,315.99999999999994,94C317.3333333333333,94,318.66666666666663,94,320,94C321.3333333333333,94,322.66666666666663,94,324,94C325.3333333333333,94,326.66666666666663,94,327.99999999999994,94C329.3333333333333,94,330.66666666666663,94,332,94C333.3333333333333,94,334.66666666666663,94,336,94C337.3333333333333,94,338.66666666666663,94,339.99999999999994,94C341.3333333333333,94,342.66666666666663,94,344,94C345.3333333333333,94,346.66666666666663,94,348,94C349.3333333333333,94,350.66666666666663,94,351.99999999999994,94C353.3333333333333,94,354.66666666666663,94,356,94C357.3333333333333,94,358.66666666666663,94,360,94C361.3333333333333,94,362.66666666666663,94,363.99999999999994,94C365.3333333333333,94,366.66666666666663,94,368,94C369.3333333333333,94,370.66666666666663,94,372,94C373.3333333333333,94,374.66666666666663,94,375.99999999999994,94C377.3333333333333,94,378.66666666666663,94,380,94C381.3333333333333,94,382.66666666666663,94,384,94C385.3333333333333,94,386.66666666666663,94,387.99999999999994,94C389.33333333333326,94,390.66666666666663,94,392,94C393.3333333333333,94,394.66666666666663,94,396,94C397.3333333333333,94,398.66666666666663,94,399.99999999999994,94C401.33333333333326,94,402.66666666666663,94,404,94C405.3333333333333,94,406.66666666666663,94,408,94C409.3333333333333,94,410.66666666666663,94,411.99999999999994,94C413.33333333333326,94,414.66666666666663,94,416,94C417.3333333333333,94,418.66666666666663,94,420,94C421.3333333333333,94,422.66666666666663,94,423.99999999999994,94C425.33333333333326,94,426.66666666666663,94,428,94C429.3333333333333,94,430.66666666666663,94,432,94C433.3333333333333,94,434.66666666666663,94,435.99999999999994,94C437.33333333333326,94,438.66666666666663,94,440,94C441.3333333333333,94,442.66666666666663,94,444,94C445.3333333333333,94,446.66666666666663,94,447.99999999999994,94C449.33333333333326,94,450.66666666666663,94,452,94C453.3333333333333,94,454.66666666666663,94,456,94C457.3333333333333,94,458.66666666666663,94,459.99999999999994,94C461.33333333333326,94,462.66666666666663,94,464,94C465.3333333333333,94,466.66666666666663,94,468,94C469.3333333333333,94,470.66666666666663,94,471.99999999999994,94C473.33333333333326,94,474.66666666666663,94,476,94C477.3333333333333,94,478.66666666666663,94,480,94C481.3333333333333,94,482.66666666666663,94,483.99999999999994,94C485.33333333333326,94,486.66666666666663,94,488,94C489.33333333333326,94,490.66666666666663,94,491.99999999999994,94C493.33333333333326,94,494.66666666666663,94,496,94C497.33333333333337,94,498.66666666666674,94,500.00000000000006,94C501.33333333333337,94,502.6666666666667,94,504,94C505.3333333333333,94,506.66666666666663,94,507.99999999999994,94C509.33333333333326,94,510.66666666666663,94,512,94C513.3333333333333,94,514.6666666666666,94,516,94C517.3333333333333,94,518.6666666666666,94,520,94C521.3333333333333,94,522.6666666666666,94,524,94C525.3333333333333,94,526.6666666666666,94,528,94C529.3333333333333,94,530.6666666666666,94,532,94C533.3333333333333,94,534.6666666666666,94,536,94C537.3333333333333,94,538.6666666666666,94,540,94C541.3333333333333,94,542.6666666666666,94,544,94C545.3333333333333,94,546.6666666666666,94,548,94C549.3333333333333,94,550.6666666666666,94,552,94C553.3333333333333,94,554.6666666666666,94,556,94C557.3333333333333,94,558.6666666666666,94,560,94C561.3333333333333,94,562.6666666666666,94,564,94C565.3333333333333,94,566.6666666666666,94,568,94C569.3333333333333,94,570.6666666666666,94,572,94C573.3333333333333,94,574.6666666666666,94,576,94C577.3333333333333,94,578.6666666666666,94,580,94C581.3333333333333,94,582.6666666666666,94,584,94C585.3333333333333,94,586.6666666666666,94,588,94C589.3333333333333,94,590.6666666666666,94,592,94C593.3333333333333,94,594.6666666666666,94,596,94C597.3333333333333,94,598.6666666666666,94,600,94C601.3333333333333,94,602.6666666666666,94,604,94C605.3333333333333,94,606.6666666666666,94,608,94C609.3333333333333,94,610.6666666666666,94,612,94C613.3333333333333,94,614.6666666666666,94,616,94C617.3333333333333,94,618.6666666666666,94,620,94C621.3333333333333,94,622.6666666666666,94,624,94C625.3333333333333,94,626.6666666666666,94,628,94C629.3333333333333,94,630.6666666666666,94,632,94C633.3333333333333,94,634.6666666666666,94,636,94C637.3333333333333,94,638.6666666666666,94,640,94C641.3333333333333,94,642.6666666666666,94,644,94C645.3333333333333,94,646.6666666666666,94,648,94C649.3333333333333,94,650.6666666666666,94,652,83.03333333333333C653.3333333333333,72.06666666666666,654.6666666666666,50.13333333333333,656,48.044444444444444C657.3333333333333,45.955555555555556,658.6666666666666,63.71111111111111,660,74.67777777777778C661.3333333333333,85.64444444444445,662.6666666666666,89.82222222222222,664,91.91111111111111C665.3333333333333,94,666.6666666666666,94,668,94C669.3333333333333,94,670.6666666666666,94,672,78.33333333333333C673.3333333333333,62.666666666666664,674.6666666666666,31.333333333333332,676,15.666666666666666C677.3333333333333,0,678.6666666666666,0,680,15.666666666666666C681.3333333333333,31.333333333333332,682.6666666666666,62.666666666666664,684,78.33333333333333C685.3333333333333,94,686.6666666666666,94,688,78.85555555555555C689.3333333333333,63.71111111111111,690.6666666666666,33.42222222222222,692,33.42222222222222C693.3333333333333,33.42222222222222,694.6666666666666,63.71111111111111,696,78.85555555555555C697.3333333333333,94,698.6666666666666,94,700,94C701.3333333333333,94,702.6666666666666,94,704,94C705.3333333333333,94,706.6666666666666,94,708,94C709.3333333333333,94,710.6666666666666,94,712,80.94444444444444C713.3333333333333,67.88888888888889,714.6666666666666,41.77777777777777,716,34.98888888888888C717.3333333333333,28.199999999999996,718.6666666666666,40.73333333333333,720,53.78888888888888C721.3333333333333,66.84444444444443,722.6666666666666,80.42222222222222,724,79.89999999999999C725.3333333333333,79.37777777777777,726.6666666666666,64.75555555555555,728,64.75555555555555C729.3333333333333,64.75555555555555,730.6666666666666,79.37777777777777,732,71.02222222222221C733.3333333333333,62.666666666666664,734.6666666666666,31.333333333333332,736,25.58888888888889C737.3333333333333,19.84444444444444,738.6666666666666,39.68888888888888,740,55.35555555555555C741.3333333333333,71.02222222222221,742.6666666666666,82.5111111111111,744,88.25555555555556C745.3333333333333,94,746.6666666666666,94,748,94C749.3333333333333,94,750.6666666666666,94,752,94C753.3333333333333,94,754.6666666666666,94,756,94C757.3333333333333,94,758.6666666666666,94,760,88.77777777777777C761.3333333333333,83.55555555555556,762.6666666666666,73.11111111111111,764,57.44444444444444C765.3333333333333,41.77777777777778,766.6666666666666,20.88888888888889,768,10.444444444444445C769.3333333333333,0,770.6666666666666,0,772,0C773.3333333333333,0,774.6666666666665,0,775.9999999999999,7.833333333333333C777.3333333333333,15.666666666666666,778.6666666666666,31.333333333333332,779.9999999999999,47C781.3333333333333,62.666666666666664,782.6666666666666,78.33333333333333,784,86.16666666666667C785.3333333333333,94,786.6666666666665,94,787.9999999999999,94C789.3333333333333,94,790.6666666666666,94,791.9999999999999,94C793.3333333333333,94,794.6666666666666,94,796,94C797.3333333333333,94,798.6666666666665,94,799.9999999999999,94C801.3333333333333,94,802.6666666666666,94,803.9999999999999,78.85555555555555C805.3333333333333,63.71111111111111,806.6666666666666,33.42222222222222,808,17.755555555555553C809.3333333333333,2.0888888888888886,810.6666666666665,1.0444444444444443,811.9999999999999,0.5222222222222221C813.3333333333333,0,814.6666666666666,0,815.9999999999999,0C817.3333333333333,0,818.6666666666666,0,820,0C821.3333333333333,0,822.6666666666665,0,823.9999999999999,15.666666666666666C825.3333333333333,31.333333333333332,826.6666666666666,62.666666666666664,827.9999999999999,62.666666666666664C829.3333333333333,62.666666666666664,830.6666666666666,31.333333333333332,832,19.844444444444445C833.3333333333333,8.355555555555556,834.6666666666665,16.711111111111112,835.9999999999999,32.37777777777778C837.3333333333333,48.044444444444444,838.6666666666666,71.02222222222223,839.9999999999999,66.84444444444445C841.3333333333333,62.666666666666664,842.6666666666666,31.333333333333332,844,31.333333333333332C845.3333333333333,31.333333333333332,846.6666666666665,62.666666666666664,847.9999999999999,62.666666666666664C849.3333333333333,62.666666666666664,850.6666666666666,31.333333333333332,851.9999999999999,15.666666666666666C853.3333333333333,0,854.6666666666666,0,856,15.666666666666666C857.3333333333333,31.333333333333332,858.6666666666665,62.666666666666664,859.9999999999999,78.33333333333333C861.3333333333333,94,862.6666666666666,94,863.9999999999999,94C865.3333333333333,94,866.6666666666666,94,868,94C869.3333333333333,94,870.6666666666665,94,871.9999999999999,94C873.3333333333333,94,874.6666666666666,94,875.9999999999999,94C877.3333333333333,94,878.6666666666666,94,880,94C881.3333333333333,94,882.6666666666665,94,883.9999999999999,94C885.3333333333333,94,886.6666666666666,94,887.9999999999999,94C889.3333333333333,94,890.6666666666666,94,892,94C893.3333333333333,94,894.6666666666665,94,895.9999999999999,94C897.3333333333333,94,898.6666666666666,94,899.9999999999999,94C901.3333333333333,94,902.6666666666666,94,904,94C905.3333333333333,94,906.6666666666665,94,907.9999999999999,94C909.3333333333333,94,910.6666666666666,94,911.9999999999999,94C913.3333333333333,94,914.6666666666666,94,916,94C917.3333333333333,94,918.6666666666665,94,919.9999999999999,94C921.3333333333333,94,922.6666666666666,94,923.9999999999999,94C925.3333333333333,94,926.6666666666666,94,928,94C929.3333333333333,94,930.6666666666665,94,931.9999999999999,94C933.3333333333333,94,934.6666666666666,94,935.9999999999999,94C937.3333333333333,94,938.6666666666666,94,940,94C941.3333333333333,94,942.6666666666665,94,943.9999999999999,94C945.3333333333333,94,946.6666666666666,94,947.9999999999999,94C949.3333333333333,94,950.6666666666666,94,952,94C953.3333333333333,94,954.6666666666665,94,955.9999999999999,94C957.3333333333333,94,958.6666666666666,94,959.9999999999999,94C961.3333333333333,94,962.6666666666666,94,964,94C965.3333333333333,94,966.6666666666665,94,967.3333333333333,94L968,94" transform="translate(-1.0453333333333332,0)"></path></g></g></svg></p><p>Notice that the exiting tick marks smoothly fade-out, while the entering tick marks smoothly fade-in; this is handled automatically by the axis component. The process for transitioning the axis is the same as for the transform: update the scale’s domain, then apply linear easing.

</p><p>Questions or comments? These examples are available as <a href="https://gist.github.com/1642874">GitHub gists</a>. Find me on <a href="https://twitter.com/mbostock">Twitter</a> or stop by the <a href="https://groups.google.com/group/d3-js">d3-js group</a>.

</p><footer>
  <aside>January 19, 2012</aside>
  <a href="https://bost.ocks.org/mike/" rel="author">Mike Bostock</a>
</footer>

<script>

GoogleAnalyticsObject = "ga", ga = function() { ga.q.push(arguments); }, ga.q = [], ga.l = +new Date;
ga("create", "UA-48272912-3", "ocks.org");
ga("send", "pageview");

</script>
<script async="" src="./Path Transitions_files/highlight.min.js"></script>
<script async="" src="./Path Transitions_files/analytics.js"></script>
</body></html>